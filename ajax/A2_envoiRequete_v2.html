<script type="text/javascript" src="ajax.js"> </script>
<script type="text/javascript">
function envoyer(refBtn)
{
	var refCle = document.getElementById("cle");
	var type = (refBtn.value == "envoi GET") ? "GET" : "POST" ; 
	// TODO : utiliser la fonction ajax de la librairie ajax.js 
	ajax("A2_data.php", {
		type: type, // !!
		data : {cle: refCle.value}, 
		callback : function (r){
			document.getElementById("reponse").innerHTML = r;
		}
	}); 
	// comment annuler une requete en cours ?? 
	// on pourrait utiliser un argument passé en paramètre / en propriété
	// de la fonction ajax pour obtenir une référence vers l'objet de requetage et invoquer sa méthode abort()

	ajax({
		type: type, 
		data : {cle: refCle.value}, 
		url : "A2_data.php" 
	});
	
}

</script>

<input type="text" id="cle"/>
<input type="button" value="envoi GET" onclick="envoyer(this)"/>
<input type="button" value="envoi POST" onclick="envoyer(this)"/>

<div id="reponse">
</div>

<textarea cols="40" rows="10">
Pour vous convaincre que c'est bien une requete sans changement de page, vous pouvez editer ce champ: il ne sera pas remis &agrave; jour !
</textarea>


















